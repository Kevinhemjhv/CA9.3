{"ast":null,"code":"import _classCallCheck from\"C:/Users/Kevin/OneDrive/Desktop/ca9.3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Kevin/OneDrive/Desktop/ca9.3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Kevin/OneDrive/Desktop/ca9.3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Kevin/OneDrive/Desktop/ca9.3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import React from'react';import AppMode from'./AppMode.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=/*#__PURE__*/function(_React$Component){_inherits(LoginPage,_React$Component);var _super=_createSuper(LoginPage);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_super.call(this,props);_this.handleSubmit=function(e){e.preventDefault();//Is the email field valid\nvar eValid=!_this.email.current.validity.typeMismatch&&!_this.email.current.validity.valueMissing;//Is the password field valid?\nvar pValid=!_this.password.current.validity.patternMismatch&&!_this.password.current.validity.valueMissing;if(eValid&&pValid){_this.props.setMode(AppMode.FEED);_this.props.setUserId(_this.email.current.value);}else{//at least one field is invalid--trigger re-render\n_this.setState({emailValid:eValid,passwordValid:pValid});}};_this.renderErrorBox=function(){if(_this.state.emailValid&&_this.state.passwordValid){return null;}if(!_this.state.emailValid&&_this.state.passwordValid){return/*#__PURE__*/_jsx(\"p\",{id:\"errorBox\",className:\"alert alert-danger centered\",children:/*#__PURE__*/_jsxs(\"a\",{id:\"emailError\",href:\"#email\",className:\"alert-link\",ref:_this.emailError,children:[\"Enter a valid email address\",/*#__PURE__*/_jsx(\"br\",{})]})});}if(_this.state.emailValid&&!_this.state.passwordValid){return/*#__PURE__*/_jsx(\"p\",{id:\"errorBox\",className:\"alert alert-danger centered\",children:/*#__PURE__*/_jsx(\"a\",{id:\"passwordError\",href:\"#password\",className:\"alert-link\",ref:_this.passwordError,children:\"Enter a valid password\"})});}//If here, both email and password are invalid\nreturn/*#__PURE__*/_jsxs(\"p\",{id:\"errorBox\",className:\"alert alert-danger centered\",children:[/*#__PURE__*/_jsxs(\"a\",{id:\"emailError\",href:\"#email\",className:\"alert-link\",ref:_this.emailError,children:[\"Enter a valid email address\",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"a\",{id:\"passwordError\",href:\"#password\",className:\"alert-link\",ref:_this.passwordError,children:\"Enter a valid password\"})]});};_this.emailError=/*#__PURE__*/React.createRef();_this.passwordError=/*#__PURE__*/React.createRef();_this.email=/*#__PURE__*/React.createRef();_this.password=/*#__PURE__*/React.createRef();_this.state={emailValid:true,passwordValid:true};return _this;}_createClass(LoginPage,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(!this.state.passwordValid){this.password.current.value=\"\";this.passwordError.current.focus();}if(!this.state.emailValid){this.email.current.value=\"\";this.emailError.current.focus();}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{id:\"loginPage\",className:\"mode-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mode-page-header\",children:\"Log In\"}),this.renderErrorBox(),/*#__PURE__*/_jsxs(\"form\",{id:\"loginForm\",className:\"centered\",onSubmit:this.handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",className:\"form-label\",children:[\"Email:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",className:\"form-control-lg centered\",\"aria-describedby\":\"emailDescr\",ref:this.email,required:true})]}),/*#__PURE__*/_jsx(\"div\",{id:\"emailDescr\",className:\"form-text\",children:\"Enter a valid email address.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",className:\"form-label\",children:[\"Password:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",className:\"form-control-lg centered\",pattern:\"^(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$\",\"aria-describedby\":\"passwordDescr\",ref:this.password,required:true})]}),/*#__PURE__*/_jsx(\"div\",{id:\"passwordDescr\",className:\"form-text\",children:\"Passwords must be at least 8 characters long with at least one number, one lower case letter, and one upper case letter.\"})]}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",id:\"loginBtn\",className:\"btn btn-primary fm-primary-btn\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"sign-in-alt\"}),\"\\xA0Log In\"]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav justify-content-center\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{id:\"createAccountBtn\",className:\"nav-link btn btn-link\",children:\"Create Account\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{id:\"resetPasswordBtn\",className:\"nav-link btn btn-link\",children:\"Reset Password\"})})]})]});}}]);return LoginPage;}(React.Component);export default LoginPage;","map":{"version":3,"sources":["C:/Users/Kevin/OneDrive/Desktop/ca9.3/client/src/components/LoginPage.js"],"names":["FontAwesomeIcon","React","AppMode","LoginPage","props","handleSubmit","e","preventDefault","eValid","email","current","validity","typeMismatch","valueMissing","pValid","password","patternMismatch","setMode","FEED","setUserId","value","setState","emailValid","passwordValid","renderErrorBox","state","emailError","passwordError","createRef","prevProps","focus","Component"],"mappings":"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","sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport AppMode from './AppMode.js'\r\n\r\nclass LoginPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.emailError = React.createRef();\r\n        this.passwordError = React.createRef();\r\n        this.email = React.createRef();\r\n        this.password = React.createRef();\r\n        this.state = {emailValid: true, \r\n                      passwordValid: true};\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (!this.state.passwordValid) {\r\n            this.password.current.value = \"\";\r\n            this.passwordError.current.focus();\r\n        }\r\n        if (!this.state.emailValid) {\r\n            this.email.current.value = \"\";\r\n            this.emailError.current.focus();\r\n        } \r\n    } \r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n         //Is the email field valid\r\n         const eValid = !this.email.current.validity.typeMismatch && \r\n                          !this.email.current.validity.valueMissing;\r\n         //Is the password field valid?\r\n         const pValid = !this.password.current.validity.patternMismatch && \r\n                            !this.password.current.validity.valueMissing;\r\n        if (eValid && pValid) {\r\n            this.props.setMode(AppMode.FEED);\r\n            this.props.setUserId(this.email.current.value);\r\n        } else { //at least one field is invalid--trigger re-render\r\n            this.setState({emailValid: eValid,\r\n                passwordValid: pValid});\r\n        }\r\n    }\r\n\r\n    renderErrorBox = () => {\r\n        if (this.state.emailValid && this.state.passwordValid) {\r\n            return null;\r\n        }\r\n        if (!this.state.emailValid && this.state.passwordValid) {\r\n            return (\r\n                <p id=\"errorBox\" className=\"alert alert-danger centered\">\r\n                        <a id=\"emailError\" href=\"#email\" \r\n                            className=\"alert-link\" \r\n                            ref={this.emailError}>\r\n                            Enter a valid email address<br/>\r\n                        </a>\r\n                </p>\r\n            );\r\n        }\r\n        if (this.state.emailValid && !this.state.passwordValid) {\r\n                return (\r\n                    <p id=\"errorBox\" className=\"alert alert-danger centered\">\r\n                            <a id=\"passwordError\" \r\n                                href=\"#password\" \r\n                                className=\"alert-link\" \r\n                                ref={this.passwordError}>\r\n                                Enter a valid password\r\n                            </a>\r\n                    </p>\r\n                );\r\n        }\r\n        //If here, both email and password are invalid\r\n        return (<p id=\"errorBox\" className=\"alert alert-danger centered\">\r\n                        <a id=\"emailError\" href=\"#email\" \r\n                            className=\"alert-link\" \r\n                            ref={this.emailError}>\r\n                            Enter a valid email address<br/>\r\n                        </a>\r\n                        <a id=\"passwordError\" \r\n                            href=\"#password\" \r\n                            className=\"alert-link\" \r\n                            ref={this.passwordError}>\r\n                            Enter a valid password\r\n                        </a>\r\n                    </p>);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div id=\"loginPage\" className=\"mode-page\">\r\n                <h1 className=\"mode-page-header\">Log In</h1>\r\n                {this.renderErrorBox()}\r\n                <form id=\"loginForm\" className=\"centered\" \r\n                    onSubmit={this.handleSubmit} noValidate>\r\n                    <div className=\"mb-3\">\r\n                    <label htmlFor=\"email\" className=\"form-label\">Email:<br/>\r\n                        <input id=\"email\" type=\"email\" className=\"form-control-lg centered\"\r\n                            aria-describedby=\"emailDescr\"\r\n                            ref={this.email} required/>\r\n                    </label>\r\n                    <div id=\"emailDescr\" className=\"form-text\">\r\n                        Enter a valid email address.\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                    <label htmlFor=\"password\" className=\"form-label\">Password:<br/>\r\n                        <input id=\"password\" type=\"password\" className=\"form-control-lg centered\"\r\n                            pattern=\"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$\"\r\n                            aria-describedby=\"passwordDescr\"\r\n                            ref={this.password} required />\r\n                    </label>\r\n                    <div id=\"passwordDescr\" className=\"form-text\">\r\n                        Passwords must be at least 8 characters long with at least one number, \r\n                        one lower case letter, and one upper case letter.\r\n                    </div>\r\n                    </div>\r\n                <p></p>\r\n                <button type=\"submit\" id=\"loginBtn\" \r\n                        className=\"btn btn-primary fm-primary-btn\">\r\n                    <FontAwesomeIcon icon=\"sign-in-alt\"/>\r\n                        &nbsp;Log In\r\n                </button>\r\n                </form>\r\n                <ul className=\"nav justify-content-center\">\r\n                <li className=\"nav-item\">\r\n                    <button id=\"createAccountBtn\" className=\"nav-link btn btn-link\">\r\n                        Create Account\r\n                    </button>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <button id=\"resetPasswordBtn\" className=\"nav-link btn btn-link\">Reset Password</button>\r\n                </li>\r\n                </ul>\r\n            </div>  \r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}